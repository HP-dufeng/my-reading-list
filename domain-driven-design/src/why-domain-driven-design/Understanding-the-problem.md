## Understanding the problem

编写软件不仅仅只是为了编写一些代码。当然，我们可以只是为了好玩和学习新技术而创建一个宠物项目，但是专业地说，我们构建软件是为了帮助其他人更好、更快、更有效地完成他们的工作。否者，编写任何软件都将没有意义。这意味着我们首先需要提出待解决的*问题*。认知心理学（Cognitive psychology）将问题定义为当前状态和期望状态之间的一种限制。

### Problem space and solution space

在 *Human Problem Solving* 一书中，Allen Newell 和 Herbert Simon 概述了问题空间理论。该理论认为，人类通过在问题空间中寻找解决方案来解决问题。问题空间描述初始状态和期望状态，以及可能的中间状态。它还可以包含定义问题上下文的特定约束和规则。在软件行业中，和问题空间打交道的通常是客户和用户。

每个问题都需要一个解决方案，如果我们在问题空间中进行适当的搜索，我们就可以列出从初始状态到期望状态所需采取的步骤的大纲。这个大纲和所有关于解决方案的细节构成了一个 *解决方案空间*。

如果将问题空间和解决方案空间完全分离，会导致什么样的结果呢？有一个关于在太空中书写的很经典的故事。据说，在20世纪60年代，研究太空探索的国家意识到，由于缺乏重力，普通的圆珠笔在太空无法使用。于是 NASA 随后花了100万美元研发一种可以在太空中使用的钢笔，而苏联人决定使用优质的老式铅笔，这种铅笔几乎不花钱。

这个故事非常引人注目，至今仍在流传。因为，低效和对现实世界问题的误解的例子，现在依然有很多。给它们提出的解决方案增加了巨大的不必要的复杂性，并解决了根本不存在的问题。

和问题空间/解决方案空间 有关的问题的另一部分是，尽管问题本身看起来很简单，但附加的约束(我们也可以称之为**非功能性需求**，或者更确切地说，操作需求) 使问题比乍一看时更加复杂。

跳转到一个解决方案是非常容易的，因为大多数人都有解决日常问题的丰富经验，可以几乎立即找到许多问题的解决方案。然而，正如 Bart Barthelemy 和 Candace Dalmagneo-Rouge 在他们的文章中建议的 [When You're Innovating, Resist Looking for Solutions](https://hbr.org/2013/09/when-youre-innovating-resist-l)，思考解决方案会阻止我们的大脑思考问题。相反，我们从最先想到的解决方案开始深入，添加更多层次的细节，使其成为给定问题的最理想解决方案。

在为一个给定的问题寻找解决方案时，还有一个方面需要考虑。把你所有的注意力都集中在一个特定的解决方案上是有危险的，这个解决方案可能不是最好的，但它是你首先想到的，基于你以前的经验，你目前对这个问题的理解，以及其他因素：  
![image](./../images/Refinement-versus-exploration.png '改进与探索')
<center>Refinement versus exploration</center>

寻找和选择解决方案的探索性方法涉及大量的工作来尝试一些不同的东西，而不是专注于对原始的好想法的迭代改进。然而，在这种类型的探索中找到的答案很可能会更加精确和有价值。我们将在本章后面讨论第一个可能的解决方案。

### What went wrong with requirements

我们都熟悉软件需求的概念。开发人员很少与实际想要解决问题的人直接接触。通常，一些专门的人员，如需求分析人员、业务分析人员或产品经理，会与客户进行交流，并将这些交流的结果归纳为功能需求。需求可以有不同的形式，从称为需求规范的大型文档到更敏捷的方式(如，用例)。来看一个例子：
> 每天，系统将为每个酒店生成一份当天预计入住和退房的客人名单。

如您所见，该需求只描述了解决方案。我们不可能知道用户正在做什么，系统将解决什么问题。也许会指定额外的需求，进一步细化解决方案，但是在功能需求中却没有包含对问题的描述。

相比之下，对于用例，我们更能了解用户想要什么。让我们回顾一下这个真实的用例：“作为一名仓库经理，我需要能够打印库存水平报告，这样我就可以在缺货时订购产品。” 在这个用例中，我们能够了解用户想要什么。然而，这个用例也规定了开发人员需要做什么。它描述了*解决方案*。真正的问题可能是客户需要一个更高效的采购流程，这样他们就不会缺货。或者，他们需要一个先进的采购预测系统，这样他们就可以在不增加库存的情况下提高吞吐量。

我们不应该认为这些需求是在浪费时间。有许多优秀的分析人员可以生成高质量的需求规格说明。然而，至关重要的是要理解，这些需求几乎总是代表了从编写它们的人的角度对实际问题的理解。业界普遍存在一种误解，认为要花费越来越多的时间和金钱来编写更高质量的需求。

然而，精益和敏捷方法带来了开发人员和最终用户之间更直接的交流。所有的涉众(从最终用户到开发人员和测试人员)理解问题，一起寻找解决方案，消除假设，为最终用户建立原型以进行评估——所有这些都被成功的团队采用，并且正如我们在本书后面将看到的，它们也与 DDD 密切相关。