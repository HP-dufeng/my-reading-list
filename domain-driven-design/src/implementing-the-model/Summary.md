## Summary

在本章中，我们开始编写大量代码，并学习了用代码实现领域模型的基础知识。我们讨论了实体和值对象，需要它们做什么，以及它们之间的差异有多大。本章花了很大的大部分解释了值对象的作用，因为这一主题至关重要，值对象常常被忽视。

我们使用工厂函数来展示构建值对象的不同方法。可以使用类似的技术来构造有效的实体，但是我们还没有讨论这个主题。我们在值对象中还使用领域服务来利用一些外部服务，同时保持领域模型本身不受任何外部依赖的影响。

我们还讨论了约束和一致性，它们在保持系统状态始终有效方面起着重要作用，我们使用了不同的技术来实现它们。

最后，我们转向领域事件，并实现了一些以前只在橙色便利贴上看到的事件，现在这些事件直接在代码中了。接下来，我们了解到，从一个支撑性的工具来看，领域事件可能成为我们模型中状态变化的驱动力，这为我们继续向 Event Sourcing 前进之前打下了坚实的基础。

本章中，我们还编写了一些测试。编写测试并保持它们的真实性，在任何编程工作中都是至关重要的，但是当使用 DDD 并处于模型内部的探索模式时，测试成为处理回归、甚至表达和记录业务规则的最重要工具之一，我们将在下面的章节中看到。

由于我们开始将一些便利贴里的想法移到代码中，在下一章，我们将看到如何实现命令，以及命令是如何将我们的领域模型和它之外的世界连接起来的。在这种状态下，我们将学习如何通过让人们与模型交互来使我们的模型有用。